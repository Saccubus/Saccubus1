【ニコニコ】コメント付動画作成ツール さきゅばすスレ(前スレ)
<http://hibari.2ch.net/test/read.cgi/software/1235626069/>
の３４１氏の 1.22r3 を元に、NicoBrowser拡張1.4.4および
いんきゅばす1.7.2（作者：雪羽氏）の一部機能を借用して改造しました。
また、ニコニコランキングメーカーnicorankから機能を借用しました。
本ソフトはナンバリングだけは正式名称になったけれど実態は改造版です。

　・1.29.dev1 (2011/12/01)
　　生IDに186を付加、NG関係の内部処理変更
　　設定ファイルの初期化追加

□修正・改変点
　1.29.dev1
　・生ID（非匿名）コメントのコマンドに内部的に186を付加
　・NG関係の内部処理を変更、正規表現パターン作成を1回だけに
　・設定ファイルの初期化を追加

　1.28以降
　・エコノミーモード時に中止するオプション追加
　・実験的設定　CAへの対応その3
　・CUIオプション追加
　・設定ファイルの読み込み・保存追加
　・フォントサイズ自動調整時の拡大機能を元に戻しました。（1.26α4までと同じ）

　1.26.2以降
　・CUI修正　auto.batやSaccubusConvList使用時の修正
　　２パス指定可能
　　一部設定のオーバーライド可能
　　CUI使用時にLog.txtを出力する、autodebug.bat廃止

　1.26.1以降
　・実験的設定を変更、CAへの対応その２
　　ダブルリサイズ・fullコマンド・２４ビットカラーを実装（オフ不可）
　　改行リサイズ・臨界幅リサイズ変更・開発版を選択可能（上手く行ってない）
　　フォントをCA用に明朝等幅に強制変更する選択可能
　・temp\「動画ID」[log]vhext.txtにnicovideoE.dllのバージョン表示
　・1.26.2までフォントサイズ自動調整時の拡大機能が削除されていました。

　1.26α4以降
　・コメント速度を独自指定可能、Pixel/Sec
　・コメントスコア読み込み
　・[log]vhext.txtを temp\「動画ID」[log]vhext.txtに移動

　1.26α3以降
　・新コメント表示を旧表示と切り替え可能

　1.26α2以降
　・チャンネル・コミュニティ動画とその過去ログを新コメント表示

　1.26α1以降
　・不適切な動画のダウンロード失敗をメッセージで表示

　1.26α以降
　・実験的設定を追加、CAへの対応その１

　1.25r以降
　・1.25のバグ修正版、nicovideoE.dllの潜在バグ修正

　1.25以降
　・コミュニティ動画での通常コメントを、別レイヤーで半透明表示する
　　半透明化オン・オフ可能

　1.24以降
　・アスペクト比によるワイド選択の基準値を1.523(640x420)以上に変更
　　420より高さが低いものはワイド選択

　1.23r1以降
　・デバッグ時以外で変換できないバグ修正版1.23rのソース整理、
　　option SameQ aviを追加

　1.23以降
　・動画アスペクト比により4:3と16:9オプションを自動選択、オプション選択画面追加
　・再修正版optionファイル同梱
　・SDLライブラリ確定版同梱（SDL.dll, SDL_ttf.dll, libSDL_gfx-13.dll）
　・終了ステータスのログ表示修正

　1.22r3e9（リリースせず）
　1.22r3e8以降
　・新コメント表示対応、但し過去ログ・公式動画のコメントは非対応
　　（古いコメント表示となる）
　・auto2proc.bat 2プロセス自動実行バッチリリース
　・設定XMLがないときのデフォルトを変更

　1.22r3e7以降
　・セッション共有でChromium、その他のブラウザを追加

　1.22r3e6以降
　・セッション共有で８月のWindowsUpdateのIEのクッキー仕様変更に対応
　　対応ブラウザOpera追加、ログインチェック改善

　1.22r3e5以降
　・ブラウザからセッション情報を取得し共有、ブラウザがログアウトしない
　　IE7/8/9, Firefox5, Chrome13対応（nicorankから機能借用）
　・nicovideoE.dllをリリース（nicovideoとnicovideo16x9の統合版）
　・auto.batで引数が足りない時にstacktraceでなくエラーメッセージを出す

　1.22r3e4以降
　・ワイド画面(16;9)対応Vhookライブラリnicovideo16x9.dllを
　　従来のnicovideo.dllと半自動で切り替えられるように変更

　1.22r3e3以降
　・DLファル名にffmpegが認識できない文字があった時エラーとなるのを修正
　・内部記述修正色々、機能は変更なし

　1.22r3e2以降
　・ファイル選択ダイアログの結果のファイル名を絶対パス名から
　　相対パス名に変更
　・過去ログ指定時に文字列が解析できない場合と一般会員の場合は
　　エラー終了に変更。但し動画の保存は先に行えるようにする。
　・コメント付き動画の保存ファイル名を
　　　指定フォルダ\タイトル\オプションファイル名＋FFmpeg設定.拡張子
　　とする設定を追加（デバッグ用）
　・黒幕あり（-padtop,-padbottom）を新しいffmpeg(rev.23043以降)で
　　-vfilters pad=に変更したときに、vhookライブラリと両立出来るように修正
　・｢不適切な内容が含まれている｣動画をダウンロードする場合に
　　http://www.nicovideo.jp/watch/sm1234556789?watch_harmful=1
　　と指定すればダウンロード出来るように修正

　1.22r3e1a以降
　・NicoBrowser拡張1.4.4用のffmpegに対する不具合を修正
　・過去ログを結合中のデバッグ用メッセージの量を減らす
　・過去ログの結合方式を変更し不要な項目も残すように変更
　　（若干、結果ファイルサイズが増えた）

　1.22r3e以降
　・過去ログのダウンロードのURL修正（1.4.4と同等レベル）
　　（過去ログのダウンロードはプレミアム会員のみ）
　・公式動画のコメントをダウンロード可能（1.4.4と同等レベル）
　・投稿者コメントをダウンロード・付加可能（1.4.4と同等レベル）
　・自動で調整する取得コメント数を最新のニコニコ動画仕様に変更
　　1分間100コメ、10分以上は1000コメまで(1.22r3e8で更に修正)
　・動画タイトルの最後に付く空白を削除
　・コメントファイル名に[日時]を追加可能
　　複数のコメントファイルを動画に付加可能に。
　　（プレミアム会員で過去ログを使えば1000コメ以上付加可能）
　・投稿者コメントのスクリプト(ニワン語)を無視する
　　→投稿者のスクリプトが無駄に動画に付加されない。


□おまけ
　1.22r3e4
　・選択した拡張Vhookの種類と動画サイズ・アスペクト比を表示
　　（自動判定時のみ）

　1.22r3e3以降
　・前回正常終了した時の動画idを記憶する（１つだけ）

　1.22r3e1a以降
　・ダウンロードした動画の設定FFmpegによるデコード結果の表示の際
　　フォルダ指定の場合は直前にダウンロードしていなくても捜して
　　デコードするように変更した。
　・ダウンロード・変換時の経過時間を表示
　・ダウンロード・変換時間と最終フレームの情報をデバッグログに出力

　1.22r3e以降
　・設定されたFFmpegのバージョンを表示
　・ダウンロードした動画の設定FFmpegによるデコード結果を表示
　　（動画サイズ、ビットレート、fps、動画codec、音声codecなど）


修正・改変点、おまけは、さきゅばす上で青文字で表示しています。


□サポート解説など
　さきゅばすの使い方などに関しては、
　公式サイト　http://saccubus.sourceforge.jp/
　同梱のさきゅばす1.22rのreadme.txt、1.22r3のreadme+.txtを
　ご覧下さい。
　1.22r3e、1.23以降の不具合報告等はさきゅばすスレでお願いします。
　http://hibari.2ch.net/test/read.cgi/software/1310301611/


□動作環境
　Windows XP/7　32bit（多分Vistaも動くはず）
　　　　　　　（64bitは環境が無い為テストしていませんが動作するようです。）
　javaランタイム（Java6 - JRE6 または JDK6）が必要です。
　　　　　　　　（Java7 - JRE7 または JDK7　でも確認済みです。）
　　　　　　　　（JRE1.5 JDK5はテストしていません。）

□注意
　・本Revの人柱用レベルは前Rev.と同じくらいです。
　・64bitWinは元々動作確認していませんが今回も非対応です。
　　（一人実績がありました。Windows7 64ビット   Core i5）


●注意●
　・本Rev.は確定版SDLライブラリ（2011/11/02版）を同梱しています。（binフォルダ内）
　　libSDL_gfx-13.dllが不要になりました。autodebug.batが不要になりました。
　　（nicovideoE.dllにスタティックリンク済み）
　・本Rev.は再修正版optionファイル（2011/11/02版）を同梱しています。
　　（iPhone用仮×2、PSP用追加×2を追加）
　　1.22r3 1.22r3e8aBETA 及び本スレ>>153のoptionファイルは■破棄・削除■して下さい。

□インストール方法と拡張機能設定
　◆1.22r2以前のさきゅばすを使用中の方
　　「初めてさきゅばすを使う方」を実行して下さい。

　◆1.22r3以降をご使用中の方
　・自分で修正したoptionファイルをお持ちの方は
　　自分が使用するオプションファイルだけ別の場所に移動して下さい。
　・以前のさきゅばすフォルダに■全て上書き■して下さい。
　・移動したオプションファイルをoption内にコピーして戻して下さい。
　◆拡張機能
　・設定ファイルの読み込み・保存・別名保存・初期化が出来るようになりました。
　・CA対応実験的設定でフォント4種類を強制選択可能になりました。
　・CUI引数を追加しました。
　・エコノミーモード時に中止する設定が可能になりました。
　・1.26.1～2でフォントサイズ自動調整時の拡大機能を削除しましたが元に戻しました。
　・コメント速度を独自に指定可能になりました。
　・コメント表示モードが新表示・旧表示を選択可能になりました。
　・動画アスペクト比によるオプション自動判定ができるようになりました。
　　「動画設定」「変換オプション設定」「FFmpegの設定１」と「FFmpegの設定２」に
　　自動判定の結果選択するオプションを設定します。
　・拡張Vhookライブラリ指定は、「動画設定」画面の2つある拡張Vhook
　　指定欄の両方に nicovideoE.dll を指定し、2個のチェックボックス
　　両方にチェックするとDL動画のアスペクト比を自動判定します。
　・ブラウザ情報共有設定で「上記以外のブラウザの…」にチェックする
　　場合は、Cookiesファイルの場所、複数候補の場合はその親フォルダを
　　指定して下さい。
　・nicovideoE.dllで変換エラーが発生する動画の報告がありましたが
　　問題は1.25rで対処済みです。


　◆初めてさきゅばすを使う方
　　及び1.22r2以前のさきゅばすを使用中の方
　・前スレ>>341
　　(http://www.ne.jp/asahi/mochiyama/my/file/Saccubus-1.22r3.zip)
　　をダウンロードし展開します。(ドライブ直下の\saccubusを推奨)
　　binフォルダの ffmpeg.exe （SVN-r21400）が必要です。
　　*** 同梱しているbinフォルダのファイルだけでは動作しません ***
　・1.22r3のoptionフォルダを■削除■して下さい。
　・本Rev.を1.22r3を展開したフォルダにコピーします。
　　同名のファイル・フォルダは■上書き■します。
　・ブラウザ情報共有設定で「上記以外のブラウザの…」にチェックする
　　場合は、Cookiesファイルの場所、複数候補の場合はその親フォルダを
　　指定して下さい。
　・投稿者コメントを付加して動画にしたい場合は
　　「保存設定」「コメント付き動画」「投稿者コメントを付加する」に
　　チェックします。スクリプトは再現されません。

　★　FFmpeg 21400の代わりに新しいN55686も使用可能ですが　★
　★　実績が少ないので人柱度は大きくなります。　　　　　　★
　　N55686(libfaac無し、libvo_aacencあり)+optionVO
　　http://www1.axfc.net/uploader/Ne/so/122583.zip&key=saccubus


□起動
　　Saccubus.exe をダブルクリックします。
　　ブラウザ共有を選択するか、または
　　メールアドレス、パスワードを入力します。
　　動画idを入力します。URLの後ろに?hogehogeがついてもOKです。
　　（不適切な内容が含まれている場合は、?watch_harmful=1 をつけます）
　　過去ログをダウンロードするには（プレミアム会員が必要条件）日付を
　　2009/7/7 7:7:7 や 2009/7/7 7:7 や 2009/7/7 のように入力します。
　　右上の変換ボタンをクリックするとダウンロードと変換が開始します。


●生ID（非匿名）コメントのコマンドに内部的に186を付加
　以下はNGワード使用例（名前はお遊びです＼(^o^)／）
　　186					コテハン殺し
　　184					匿名拒否
　　docomo				ドコモイラネ
　　/(docomo (white )?)?(184|186)/	デフォルトコマンドNG

●ファイルメニューに設定ファイルの初期化を追加。
　・FFmpegの初期化は21400向けになります。

●設定ファイルの読み込み・保存・別名保存
　・ファイルメニューから設定ファイル(*.xml)の開く・上書き保存・名前を付けて保存が
　　出来るようになりました。書式は自動生成・保存されたものと同じに限ります。

●CA（コメントアート）対応　その3
　「変換設定」タブ「実験的設定（仮）」を変更しました。
　「ＣＡ対暫定的対応」を選択するとフォントを4種類を強制使用します。
　　ゴシック：msgothic.ttc 明朝：simsun.ttc 丸文字：gulim.ttc 英数記号：arial.ttf
　※主なフォント字形はニコ動と同じですが、フォントサイズと文字間隔が
　　まだ異なる場合や表示できないフォントがあります。（調整続行中）
　■「開発版を有効」はそこそこ使えるようになりました。
　　CAがおかしな場合は「開発版を有効」をオン、まだ変な場合は
　　「フォントサイズの自動調整」をオフにして下さい。（調整中）
　　（自動調整をオフにしても拡大はしますが文字の表示が少し粗雑になります。）

●CUI追加
　4引数以降（過去ログ日時の後）の指定キーワードを３つ追加しました。
　@NDL （半角英大文字）
　　動画・コメントをダウンロードしない。（変換は設定ファイル通り）
　@DLO （半角英大文字）
　　動画・コメントを強制ダウンロードし、変換を行わない。
　@PUP （半角英大文字）
　　PC画面の左上にauto.bat中止用のボタン・ステータスを表示する。
　例）sm9を2passで2pass目は動画コメントを保存（ダウンロード）しない場合は
　　オプション設定を2pass用の1pass目指定で、ファイル名が
　　　1pass目　オプション.xml　　2pass目　p2オプション.xmlとすると
　　auto.batの場合
　　　%CMD% sm9 0 @PUP
　　　%CMD% sm9 0 @PUP p2 @NDL
　　ConvListの場合
　　　sm9
　　　sm9 0 p2 @NDL

●エコノミーモード時に中止
　「保存設定」「動画・コメント」タブ「動画保存設定」「エコノミー時は中止」
　にチェックするとエコノミーモード時は動画のダウンロードを行わずエラーになります。
　auto.batの場合は次の動画にスキップします。

●フォントサイズ自動調整時の拡大機能を元に戻しました。
　1.26α4と同じ。1.26.1～2では削除していました。

●CUI修正
　・auto.batやSaccubusConvList.exe実行時にlog.txtを出力する。
　・設定のオーバーライド可能（保存されない）
　①基本の使い方
　　　java -jar Saccubus.jar Mail@address.com password 動画ID 日時 今回の追加オプション
　　auto.batの場合　%CMD% sm9999 "2009/7/7 7:7"
　　　日時は省略可能、現在の場合は0を指定
　　ConvListの場合の入力欄　sm9999 13190010
　　　日時は1970/1/1からの秒数で指定、/や"は使用不可、省略可能
　②オプションファイルの変更（2passエンコードの例）
　　　最初に2pass用のオプションファイルを1pass目、2pass目と2組（ｘアスペクト比2種）用意する
　　　1pass目ファイル名　[PC][4：3].xml　　 [PC][16：9].xml　　　 とし
　　　2pass目ファイル名　p2[PC][4：3].xml　p2[PC][16：9].xml　として（p2は変更可能）
　　auto.batの場合次のように2行指定する
　　　%CMD% sm9999
　　　%CMD% sm9999 0 p2　　　　　日時(0)は省略不可、p2はオプションファイルの接頭辞
　　ConvListの場合：下の入力欄に入力またはペーストを2回行う（2pass目は手入力が必要）
　　　sm9999
　　　sm9999 0 p2
　③設定(saccubus.xml)のオーバーライド
　　指定方法　key名=オーバーライド値
　　オーバーライド可能なkey　7　　　　　　　（既定値）
　　　　FontPath　　　　　　フォントファイルのパス（%WINDIR%\Fonts\msgothic.ttc）
　　　　FontIndex 　　　　　フォントインデックス（1）
　　　　SaveVideoFile 　　　動画を保存する（true）
　　　　SaveCommentFile 　　コメントを保存する（true）
　　　　CMD_EXT 　　　　　　直接入力時の従来の変換後の拡張子（.avi）
　　　　WideCMD_EXT 　　　　直接入力時のワイドの変換後の拡張子（.mp4）
　　　　EnableCA　　　　　　CA用のフォントに強制変更する（false）
　　例えばsm8628149をCA用のフォントに強制変更する場合は
　　auto.batの場合　%CMD% sm8628149 0 EnableCA=true
　　ConvListの場合　sm8628149 0 EnableCA=true
　④組み合わせ　②と③は同時に組み合わせて使用可能
　　例えばsm9を2passで2pass目は動画コメントを保存（ダウンロード）しない場合は
　　auto.batの場合
　　　%CMD% sm9
　　　%CMD% sm9 0 p2 SaveVideoFile=false SaveCommentFile=false
　　ConvListの場合
　　　sm9
　　　sm9 0 p2 SaveVideoFile=false SaveCommentFile=false

　■SaccubusConvList.exeは以下からダウンロード出来ます。
　　さきゅばす変換リスト(URLリスト連続変換)　by もちやまさん
　　http://www.ne.jp/asahi/mochiyama/my/file/SaccubusConvList.zip

●CA（コメントアート）対応　その２
　　「変換設定」タブ「実験的設定」を変更しました。
　　・フォントの高さ調整の既定値変更（102%）既定でオフにしました。
　　・臨界幅リサイズ変更・改行リサイズ・ダブルリサイズを実装（オフ不可）
　　・fullコマンド・２４ビットカラーを実装（オフ不可）
　　・名称変更「さきゅばす独自リサイズ」→「従来のさきゅばすのリサイズ」
　　　開発版を選択可能（今のところ上手く行ってません。）
　　・フォントをCA用に明朝等幅に強制変更する選択可能
　■CA（コメントアート）については
　　「コメントアートwiki」　http://www37.atwiki.jp/commentart/
　　を参考にしています。ありがとうございます。

●コメント速度を独自に指定可能になりました。
　「変換設定」「拡張vhookライブラリの設定」「コメント速度」にチェックし
　入力欄にPixel/Secを指定します。（公式の最小値は約130です）

●コメントスコア読み込み
　■本機能は nicocache_nlと2chスレ
　　「【ニコニコ】自動ローカル保存プロクシ NicoCache14」
　　http://hibari.2ch.net/test/read.cgi/software/1305280003/811
　　を参考にしました。

●新コメント表示対応（その３）
　・全ての動画で、コメント取得数を新コメント表示と旧コメント表示の
　　どちらに合わせるかを切り替えられます。
　　　既定値０：公式の新コメント表示を採用以前の過去ログは旧表示
　　　新表示１：毎分最新100コメント＋旧表示
　　　旧表示２：動画の長さによる最新コメント数。最大1000（10分以上）
　・自動で取得数を決定時にしない場合の設定値は、旧表示取得数の
　　最大値を変更します。新表示の毎分100コメントは変更されません。
　［既定設定］
　　動画　　　　　取得方法　通常コメ　　　投稿者　オプショナル
　　チャンネル　　現在　　　新表示　　　　無し　　無し
　　チャンネル　　過去ログ　指定日時依存　無し　　無し
　　コミュニティ　現在　　　新表示　　　　1000　　新表示
　　コミュニティ　過去ログ　指定日時依存　1000　　指定日時依存
　　ユーザー　　　現在　　　新表示　　　　1000　　無し
　　ユーザー　　　過去ログ　指定日時依存　1000　　無し
　　マイメモリー　現在　　　新表示　　　　1000　　無し
　　マイメモリー（過去ログ　0 　　　　　　0 　　　無し）
　［補足］
　　・現在の取得数はブラウザの既定表示と同じ。
　　・指定日時：公式が新コメント表示を採用（2010年12月22日）
　　　以前の場合は旧表示。
　　・マイメモリーで過去ログを指定するとエラーにならないが
　　　コメントは取得できない。（無意味）

●新コメント表示対応について（その２）
　・チャンネル動画・コミュニティ動画とその過去ログが新コメント表示
　　に合わせた取得数となります。（自動で取得数を決定時＝既定設定）

　■本機能は「いんきゅばす1.7.2」とcoroid project wikiを
　　参考にしました。感謝。以下に説明があります。
　　　http://sourceforge.jp/projects/coroid/wiki/NicoApiSpec

●不適切な動画の読み込みで失敗をメッセージに明示する
　・｢不適切な内容が含まれている｣動画をダウンロードするには
　　sm1234556789?watch_harmful=1
　　と指定すればダウンロード出来ます。

●CA（コメントアート）対応　その１
　　「変換設定」タブに「実験的設定」を追加しました。
　　・フォントの高さを調整可能（フォント本来の高さに対し％指定）
　　・臨界幅リサイズを無効にする（現在のRevでは有効・変更は未実装）
　　・改行リサイズを無効にする（現在のRevでは無効・変更は未実装）
　　・ダブルリサイズを無効にする（現在のRevでは無効・変更は未実装）
　　・さきゅばす独自リサイズを無効にする
　　　　改行リサイズ類似、改行のないコメントには無関係

●コミュニティ動画の通常コメント表示機能について
　・コミュニティ動画のID（URL)を指定して保存すると、通常コメントを
　　ファイル名の最後に{Optional}.xmlが付加されたコメントファイルが
　　コメントフォルダまたは指定フォルダに保存されます。
　・保存と同時に変換を行うか、上記ファイルがある状態で変換を行うと
　　従来のコミュニティコメントに加え通常コメントを合成して変換します。
　・デフォルトではニコニコ動画と同様、通常コメントを半透明にして合成しますが
　　「保存設定」「コメント付き動画」タブ「オプショナルスレッド設定」で
　　<通常コメントを半透明にする>チェックを外すと不透明になります。

●新コメント表示対応について
　・制限事項
　　×過去ログ・公式動画のコメントは非対応。古いコメント表示となります。
　（1.26α2で制限が改善されました。）

　■本機能は「いんきゅばす1.7.0」（旧NicoBrowser対応さきゅばす拡張）を
　　参考にしました。感謝。以下に説明とリンクがあります。
　　　http://feather.cocolog-nifty.com/weblog/2011/08/170-ff9c.html
　　coroid project　「いんきゅばす」を含む　ライセンス AGPLv3
　　　http://sourceforge.jp/projects/coroid/

●２プロセス自動実行について
　・ダウンロードと変換を合わせて、２プロセス自動実行が出来ます。
　　ダウンロードが２重になり、ニコ動サーバーの負荷が上がりますが
　　変換と交互にすれば問題はないと思います。
　　ダウンロードのみの２プロセス実行は非推奨です。
　　変換のみの２プロセス実行は構いません。
　・バッチファイルによるマルチプロセスなので、
　　ffmpegの違いやlibのマルチスレッド対応には関係ありません。
　　ただし3コア以上の場合は１００％使用率にはならないことがあります。
　　実行能力の問題でマルチコアCPU推奨です。
　・実行方法
　　AUTO2PROC.BAT　　　　２プロセス自動実行本体…ダブルクリックで起動
　　AUTO2PROCDEBUG.BAT　 ２プロセス自動実行ログ記録…ダブルクリックで起動
　■バッチファイルを変更すればソフト的には２プロセス以上も可能なはずですが
　　２プロセス以上のダウンロードを行う時は、ニコ動サーバーの負荷を配慮の上、
　　自己責任でお願いします。
　　※アカウントがブロックされる可能性があります。
　　　×（その場合はブラウザでログインし対処する必要があります。）
　　　ニコニコ動画からのメールを受け取り対処する必要があります。？

●ブラウザのセッション共有機能について
　・セッションを共有したいブラウザの所にチェックします。
　・ブラウザでログインしていれば、さきゅばす側でメールアドレス、
　　パスワードを入力しなくてもニコニコ動画からDL出来ます。
　・さきゅばすが後からログインしてもブラウザはログアウトされません。
　・ブラウザを終了してもPCを電源OFFしてもログインされたままです。
　　（セッションの期限切れまで）
　・ブラウザがログアウトした場合は、さきゅばすもログイン出来ません。
　　その場合は、ブラウザでもう一度ログインするか、
　　さきゅばす側で単体でログインして下さい。
　　但し、さきゅばす単体でログインした場合は残念ながら、ブラウザが
　　ログアウトされます。
　　（ブラウザがさきゅばすのセッション情報を利用できないため）
　◆ブラウザ情報共有設定で「上記以外のブラウザの…」にチェックする
　　場合は、Cookiesファイルの場所、複数候補の場合はその親フォルダを
　　指定して下さい。
　　（参考）大抵の場合は　%USERPROFILE%フォルダ
　　　（XP 32の場合　　　　　C:\Doccuments and Settings\ユーザー名\
　　　　Win7,Vista 32の場合　C:\Users\ユーザー名\ ）の下か２つ下に
　　　　メーカー名\製品名\〇〇\Cookies〇〇
　　　というファイルがあります。

　■本機能はニコニコランキングメーカーnicorankから頂きました。感謝。
　　ニコニコランキングメーカー配布サイト↓
　　http://www.daily-vocaran.info/nicorank/
　　ソースファイル↓
　　http://sourceforge.jp/projects/nicorank/downloads/40282/nicorank186_src.zip/
　　（最新版ソースは SVN　http://svn.sourceforge.jp/svnroot/nicorank/）


●拡張Vhook統合版 (nicovideoE.dll)について
　・nicovideo.dllのソースから、投稿者コメント付加機能と、
　　nicovideo16x9のワイド対応修正を統合しました。(多少の差有)
　・拡張Vhook統合版の指定方法は下の拡張Vhookワイドと同じですが
　　２つの指定場所の両方に同じnicovideoE.dllを指定します。
　※1.22r3e4a以前のさきゅばす本体との使用も可能ですが、
　　自動判定は出来ません。従来モード固定となります。

●拡張Vhookワイド（nicovideo16x9.dll）について
　（1.22r3e4以外には入っていません。）
　・従来のnicovideo.dllより、16:9動画での字の大きさはニコニコ公式に
　　近いですが完全な再現は未達成です。(nicovideoE.dllの修正を検討中)
　・拡張Vhookの指定方法は次の通りです。
　　２個選択時→DL動画を検査してアスペクト比を判定しVhookを選択
　　１個選択時→指定されたVhookを使用して変換、無検査
　　０個選択時→エラー

●過去ログを複数ファイルに保存する
　（1.26α3から新コメント表示にすれば過去ログを一度に保存可能です。
　　サーバーが切断しなければ380万コメントまで確認済み。約7分）
　・「保存設定」「動画・コメント」画面の
　　<保存するフォルダを指定し、ファイル名は自動で決定する>と
　　<コメントファイル名に時刻を付加する>チェックボックスを
　　チェックします。<取得コメント数>は1000に設定します。
　　1000以上にしても１回にダウンロード出来るのは1000までです。
　　最初は「保存設定」「コメント付き動画」画面の
　　<動画を変換する>にチェックをしません。

　・まず過去ログを日付を変えて複数回ダウンロードします。
　　<動画をダウンロードする>のは1回だけで十分です。

　・過去ログが集まったら、<動画を変換する>をチェックし、
　　変換ボタンをクリックすると、同一IDの全コメントを結合して
　　コメント付き動画に変換します。

　・同時表示コメント数を増やすには「変換設定」画面の
　　<表示コメント数>を、既定値の４０より大きくします。

　・動画をダウンロードした直後に「動画設定」画面の一番下の
　　<DL動画>ボタンをクリックして動画をチェックしておくと
　　FFmpegの設定ミスが減らせるかも？

●動作が変なときは
　・通常の Saccubus.exe の起動では、
　　[log]frontend.txtにログが出力されていますので参照して下さい。
　・debug.batをダブルクリックして起動するとログを画面表示します。
　　（Bin.jarが無いとエラーになります。）
　　本体が起動するので後は同じです。終了後
　　ログがフォルダ直下の log.txt に出力されるので
　　参考にして下さい。
　・作業ファイルは直下のtempフォルダの下に作成しますが
　　実行が終了すると削除します。
　　（時々削除し忘れるので、手動で削除する必要が有ります）
　・[log]vhext.txtを tempフォルダの下に移動するようになりました。
　・色々設定を変更した時は、設定を初期化してみて下さい。

●auto.batで動作が変な時は
　・auto.batの記述を確かめます。
　　auto.batが実行して終了するまで待ちます。
　　途中でエラーが起きても、最後の動画まで実行してから終了します。
　　log.txtにログが記録されます。（１MBまで）

●設定を初期化するには
　・ファイルメニューの初期化をクリックします。(1.29以降)
（1.28以前
　・Saccubus.xml を別の名前に変更します。
　　また保存する必要がなければ、ゴミ箱に入れます。
　・Saccubus.exe をダブルクリックで実行します。
　・さきゅばすを終了します。
　　→新しく初期化されたSaccubus.xmlが作成されます。
　）

■機能確認
　・ブラウザのセッション共有機能確認は
　　Win7 Home 32bit + IE9, Firefox5.0-8.0, Chrome13-15, SRware 及び
　　XP SP3 Home 32bit + IE8, Firefox5.0-8.0, Chrome13-15, SRware
　　で行いました。
　・動画変換確認は、1.22r3（SVN-21400 前スレ341）で行いました。
　　Win7 32bit Core2Duo, WinXP 32bit CeleronD
　・但し再生確認はPC上だけで、携帯その他では未確認
　・前スレ>>670 は変換エラーする動画(Decoder not found)がありました。
　・前スレ>>481(SVN-23386)は livx264でのマルチスレッドオプション
　　（-threads）が機能しないかもしれません。
　・いんきゅばす（旧NicoBrowser拡張さきゅばす1.4.4以降）用に配布している
　　ffmpegも動くかもしれません。
　　（nicovideo.dll、optionファイルは非互換の可能性があります。）


収録物
・1stReadme.txt
・LICENSE.txt　　　　　　　 GPLライセンス
・gpl.ja.txt 　　　　　　　 GPLライセンスの非公式日本語訳
・LGPL_LICENSE　　　　　　　LGPLライセンス
・agpl-3.0.txt　　　　　　　AGPLv3ライセンス
・Saccubus.jar　　　　　　　本体　1.29
・Bin.jar　　　　　　　　　 ランタイムライブラリ
・bin フォルダ配下
　　nicovideoE.dll(2011.11.26版)統合版拡張Vhookライブラリ　従来＋ワイド(16x9用)
　　SDL.dll(2011.11.02ビルド)、README-SDL.txt
　　SDL_ttf.dll(2011.11.02ビルド)、COPYNG
　　　グラフィックライブラリ、ライセンスはLGPL、nicovideoE.dllに必要
・option フォルダ配下　　　 変換オプションファイル（2011.11.02追加4ファイル）
・saccubus_src.zip
　　Saccubus.jar　のjavaソースファイル、eclipseプロジェクトファイル
　　nicovideoE.dll　のソースファイル、eclipseプロジェクトファイル
　　Bin.jar　のjavaソースファイル、eclipseプロジェクトファイル
　　Saccubdus.exe　のCソースファイル(launcher)、makeファイル、リソース
・readmeNew.txt、readme.txt(1.22r)、readme+.txt(1.22r3)
・debug.bat　　　　　　　　 ログ記録用バッチファイル(1.22rの修正版)
・AUTO2PROC.BAT　　　　　　 ２プロセス自動実行本体
・AUTO2PROCDEBUG.BAT　　　  ２プロセス自動実行時のログ記録用
・Saccubus.exe　　　　　　　ランチャー、ログ出力あり
・auto.bat 　　　　　　　　 　　　　　　（1.22rの物）
・オプションファイル見本.xml　　　　　　（1.22rの物）

関連リンク
・ソースコード
　http://sourceforge.jp/projects/saccubus/svn/view/trunk
　SVN：svn checkout http://svn.sourceforge.jp/svnroot/saccubus/trunk

・ダウンロード
　公式最新
　1.22r 　　http://sourceforge.jp/projects/saccubus/downloads/30757/Saccubus-1.22r.zip/
　改造版
　1.28　　　http://www1.axfc.net/uploader/File/so/72010.zip
　1.26.2　　http://www1.axfc.net/uploader/File/so/71481.zip
　1.26.1　　http://www1.axfc.net/uploader/File/so/71270.zip
　1.26α4 　http://www1.axfc.net/uploader/File/so/71171.zip
　1.26α3 　http://www1.axfc.net/uploader/File/so/70049.zip
　1.26α2 　http://www1.axfc.net/uploader/File/so/69997.zip
　1.26α1 　http://www1.axfc.net/uploader/File/so/69922.zip
　1.26α　　http://www1.axfc.net/uploader/File/so/69016.zip
　1.25r 　　http://www1.axfc.net/uploader/File/so/68720.zip
　1.24　　　http://www1.axfc.net/uploader/File/so/68541.zip
　1.23r1　　http://www1.axfc.net/uploader/File/so/68295.zip
　1.23　　　http://www1.axfc.net/uploader/File/so/68280.zip
　1.22r3e8　http://www1.axfc.net/uploader/File/so/67805.zip
　1.22r3e7　http://www1.axfc.net/uploader/File/so/67571.zip
　1.22r3e6　http://www1.axfc.net/uploader/File/so/67535.zip
　1.22r3e5　http://www1.axfc.net/uploader/File/so/67499.zip
　1.22r3e4　http://www1.axfc.net/uploader/File/so/67192.zip
　1.22r3e3　http://www1.axfc.net/uploader/File/so/67064.zip
　1.22r3e2　http://www1.axfc.net/uploader/File/so/66071.zip
　1.22r3e1a http://www1.axfc.net/uploader/File/so/65862.zip
　改造版の元
　1.22r3　　http://www.ne.jp/asahi/mochiyama/my/file/Saccubus-1.22r3.zip
　参考ffmpeg
　r23386(libfaacあり)　http://www1.axfc.net/uploader/Ne/so/82882.zip
　N55686(libfaac無し、libvo_aacencあり)+optionVO
　　http://www1.axfc.net/uploader/Ne/so/122583.zip&key=saccubus

・サイト
　さきゅばす公式
　　http://saccubus.sourceforge.jp/
　coroid project　「いんきゅばす」を含む
　　http://sourceforge.jp/projects/coroid/
　ニコニコランキングメーカー(nicorank)配布サイト
　　http://www.daily-vocaran.info/nicorank/

変更履歴
1.29.dev1
　・生ID（非匿名）コメントのコマンドに内部的に186を付加
　・NG関係の内部処理を変更、正規表現パターン作成を1回だけに。
　・ファイルメニューに設定ファイルの初期化を追加。

1.28 (2011/11/26)
　エコノミーモード時に中止するオプション追加
　実験的設定　CAへの対応その3
　CUIオプション追加
　設定ファイルの読み込み・保存追加

1.26.2 (2011/11/12)
　CUI修正　auto.batやSaccubusConvList使用時の修正
　　２パス指定可能
　　一部設定のオーバーライド可能
　　CUI使用時にLog.txtを出力する、autodebug.bat廃止

1.26.1 (2011/11/05)
　実験的設定を変更、CAへの対応その２
　　ダブルリサイズ・fullコマンド・２４ビットカラーを実装
　　改行リサイズ・臨界幅リサイズ変更・開発版を選択可能
　　フォントをCA用に明朝等幅に強制変更する選択可能

1.26α4（2011/11/02）
　コメント速度を独自指定可能、Pixel/Sec、コメントスコア読み込み
　[log]vhext.txtを temp\「動画ID」[log]vhext.txtに移動

1.26α3 (2011/10/07)
　新コメント表示を旧表示と切り替え可能

1.26α2 (2011/10/05)
　チャンネル・コミュニティ動画とその過去ログを新コメント表示

1.26α1 (2011/10/03)
　不適切な動画のダウンロード失敗をメッセージで表示

1.26α (2011/9/13)
　実験的設定を追加、CAへの対応その１

1.25r (2011/9/5)
　1.25のバグ修正版、nicovideoE.dllの潜在バグ修正
　コミュニティ動画での通常コメントを、別レイヤーで半透明表示する
　半透明化オン・オフ可能

1.25（2011/9/3）
　配布中止。
　コミュニティ動画での通常コメントを、別レイヤーで半透明表示する
　半透明化オン・オフ可能

1.24 (2011/9/2)
　アスペクト比によるワイド選択の基準値を1.523(640x420)以上に変更

1.23r1 (2011/8/28)
　バグ修正版1.23rのソース整理、option SameQ aviを追加

1.23r (2011/8/28)
　バグ修正版、Saccubus.jarのみ

1.23 (2011/8/27)
　ナンバリングは正式名称になったけれど実態は改造版
　動画アスペクト比により4:3と16:9オプションを自動選択、オプション選択画面追加
　再修正版optionファイル同梱
　SDLライブラリ確定版同梱（SDL.dll, SDL_ttf.dll, libSDL_gfx-13.dll）
　終了ステータスのログ表示修正

1.22r3e9 (リリースせず）
1.22r3e8 (2011/8/18)
　新コメント表示対応、但し過去ログ・公式動画のコメントは非対応
　２プロセス自動実行バッチリリース、設定XMLがない時のデフォルト変更

1.22r3e7 (2011/8/12)
　セッション共有でChromium、その他のブラウザを追加

1.22r3e6 (2011/8/11)
　セッション共有でIEの仕様変更に対応、対応ブラウザOpera追加

1.22r3e5 (2011/8/10)
　ブラウザのCookieからセッション情報を取得し共有する
　nicovideoE.dllをリリース（nicovideoとnicovideo16x9の統合版）

1.22r3e4a評価版 (2011/8/5)

1.22r3e4 (2011/8/3)
　ワイド画面(16;9)コメントサイズ半自動切り替え対応(仮)

1.22r3e3 (2011/8/1)
　DLファイル名のバグ修正、autodebug.bat収録

1.22r3e2 (2011/7/15)
　URLの後ろに ?hogehoge がある時、URLへの付加を行う

1.22r3e1a(2011/7/11)
　1.22r3e1のバグ修正、Saccubus.jarのみ

1.22r3e1 (2011/7/10) full set
　配布中止。nicovideo.dllに投稿者コメントを合成できない不具合があった

1.22r3e　(2011/7/5)
　改造版 Saccubus.jar リリース
