【ニコニコ】コメント付動画作成ツール さきゅばすスレの３４１氏のものを元に
NicoBrowser拡張1.4.4（作者：雪羽氏）の一部機能を追加して改造しました。

　・1.22r3e(2011/7/5)

修正
　・過去ログのダウンロードのURL修正（1.4.4と同等レベル）
　　（過去ログのダウンロードはプレミアム会員のみ）
　・公式動画のコメントをダウンロード可能（1.4.4と同等レベル）
　・投稿者コメントをダウンロード・付加可能（1.4.4と同等レベル）

改善
　・コメントファイル名に[日時]を追加可能
　　複数のコメントファイルを動画に付加可能に。
　　（プレミアム会員で過去ログを使えば1000コメ以上付加可能）
　・投稿者コメントのスクリプト(ニワン語)を無視する
　　→投稿者のスクリプトが無駄に動画に付加されない。

おまけ
（簡単なFFmpeg機能チェックをさきゅばす本体で出来るようにした）
　・設定されたFFmpegのバージョンを表示
　・ダウンロードした動画の設定FFmpegによるデコード結果を表示
　　（動画サイズ、ビットレート、fps、動画codec、音声codecなど）

制限（不具合残点）
　・一般会員が【過去ログ】をダウンロードしようとしてもエラーにならない。
　　（過去ログではなく、現在のコメントがダウンロードされる。）
　・プレミアム会員でもマイメモリの【過去ログ】はダウンロード出来ないが
　　エラーにならない。（マイメモリの過去ログをダウンロードするのは
　　全く無意味だがエラーにならないのは問題か？）
　・投稿者スクリプトは処理されない。
　　今後vhookライブラリがスクリプトを解読可能になっても（？）
　　現状だと本体がvhookに渡さないので処理されない。
　・歌詞職人さんの最新コメントアートに対応していない。
　　（vhookライブラリの方の修正が必要だと思うが？）


修正、改善、おまけは、さきゅばす上で青文字で表示しています。


さきゅばすの使い方などに関しては
公式サイト saccubus.sourceforge.jp
さきゅばす1.22rのreadme.txt（同梱）
1.22r3のreadme+.txt（同梱）をご覧下さい。
1.22r3eの不具合報告・感想はさきゅばすスレでお願いします。


動作環境　Windows XP/7　32bit（多分Vistaも動くはず）
　　　　　　　　（64bitは環境が無い為テストしていません）。
　　　　　javaランタイム（jre6）が必要です。
　　　　　　　　（jre5 jre1.5 はテストしていません。）

インストール方法
　既にさきゅばすを使用中の方
　・Saccubus.jarを差し替えるだけです。

　初めてさきゅばすを使う方
　・1.22r3（スレ>>341）を先にダウンロード・展開して下さい。
　　binフォルダ（FFmpeg,vhookライブラリnicovideo.dllなど）と
　　optionフォルダ　が必要です。
　　*** zipには入っていません ***
　・1.22r3eを1.22r3を展開したフォルダにコピーします。
　　念の為に、元のSaccubus.jarはリネーム後保存しておいて下さい。
　　Saccubus.jarを 1.22r3e のものと差し替えてください。

起動
　　Saccubus.exe または Saccubus.jarをダブルクリックします。
　　メールアドレス、パスワードを入力します。
　　動画idを入力します。URLの後ろに?hogehogeがついてもOKです。
　　過去ログをダウンロードするには日付を
　　2001/7/7 7:7:7 や 2001/7/7 7:7 や 2001/7/7 のように入力します。
　　右上の変換ボタンをクリックするとダウンロードと変換が開始します。

●過去ログを複数ファイルに保存する
　・「保存設定」「動画・コメント」画面の
　　<保存するフォルダを指定し、ファイル名は自動で決定する>と
　　<コメントファイル名に時刻を付加する>チェックボックスを
　　チェックします。<取得コメント数>は1000に設定します。
　　1000以上にしても１回にダウンロード出来るのは1000までです。
　　最初は「保存設定」「コメント付き動画」画面の
　　<動画を変換する>にチェックをしません。

　・まず過去ログを日付を変えて複数回ダウンロードします。
　　<動画をダウンロードする>のは1回だけで十分です。

　・過去ログが集まったら、<動画を変換する>をチェックし、
　　変換ボタンをクリックすると、同一IDの全コメントを結合して
　　コメント付き動画に変換します。

　・同時表示コメント数を増やすには「変換設定」画面の
　　<表示コメント数>を、既定値の４０より大きくします。

　・動画をダウンロードした直後に「動画設定」画面の一番下の
　　<DL動画>ボタンをクリックして動画をチェックしておくと
　　FFmpegの設定ミスが減らせるかも？

●動作が変なときは
　・debug.batをダブルクリックして起動します。
　　本体が起動するので後は同じです。終了後
　　ログがフォルダ直下の log.txt に出力されるので
　　参考にして下さい。
　・デバッグのためコメント作業ファイルを消しておらず
　　そのまま残しています。コメントを調べたい方はどうぞ。
　　フォルダ直下の
　　　vhook.tmp　　　　一般コメント中間ファイル(Unicode-LE)
　　　vhookowner.tmp　投稿者コメント中間ファイル(Unicode-LE)
　　　tmp_comment.xml　過去ログ結合結果ファイル(UTF-8)
　　動画に比べ小容量なので消さないのをご了解ください。


　■変換確認は>>341、及び>>481（binのみ）で行いました。
　■>>670（binのみ）は変換エラーする動画
　　(Decoder not found)がありました。
　■ダウンロードの修正が主なので、動画変換の詳細は変えて
　　いないはずです。詳しくありません。
　　変換はオプションとbin内のFFmpegに依存するはずなので
　　binとoptionの組み合わせを調整するのが良いかも？
　■NicoBrowser拡張さきゅばす用に配布しているvhookライブラリ
　　(nicovideo.dll)及び、ffmpeg、libavも動くはずですが、
　　テストはしていません。


収録物
・LICENSE.txt　GPLライセンス
・Saccubus.jar　　本体
・Saccubus.exe　　ランチャー（1.22rの物　1.22r3に無いので）
・auto.bat、debug.bat　　　 （1.22rの物　1.22r3に無いので）
・オプションファイル見本.xml（1.22rの物　1.22r3に無いので）
　（1.22rは公式サイトからダウンロードページに行けます。）
・saccubus1.22r3e_src.zip
　　1.22r3e　javaソースファイル、eclipseプロジェクトファイル
・readme_1.22r3e.txt、readme.txt(1.22r)、readme+.txt(1.22r3)
